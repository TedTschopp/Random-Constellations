<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <style type="text/css">
      body{
        display:flex;
        justify-content: center;
        flex-direction:column;
      }
      .controls{
        width:100%;
        display:flex;
        flex-direction:row;
        flex-wrap:wrap;
        justify-content:center;
      }
      .group{
        width:25%;
        border:1px solid black;
      }
      .control{
        width:100%;
        display:flex;
        flex-direction:column;
        justify-content:center;
        padding:10px;
        box-sizing: border-box;
      }
      .slider{
        width:100%;
      }
      .header{
        text-align:center;
        border-bottom:1px solid black;
      }
      canvas{
        margin-left:auto;
        margin-right:auto;
      }
      textarea{
        font-family: monospace;
        font-size: x-small;
      }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/p5@1.8.0/lib/p5.js"></script>

    <script>
      const LUMINOSITY_MULTIPLIER = 5;

      var CANVAS_SIZE = 500;
      var MIN_CONSTELLATION_SIZE = 7;
      var CONSTELLATION_SIZE_RANGE = 0;
      var NUM_CONSTELLATIONS = 7;
      var CONSTELLATION_DISTANCE = 0.1;
      var PRETTIFY_CONSTELLATIONS = false;
      var INVERTED_COLOURS = 0;
      var stars = [];
      var constellations = [];

      var inpSeed;
      var starDensity;
      var numConstellations;
      var minConstellationSize;
      var constellationSizeRange;
      var constellationDistance;
      var prettifyConstellations;
      var canvasSize;
      var invertColours;

      function setup() {
        inpSeed = document.getElementById("inpseed");
        starDensity = document.getElementById("stardensity");
        numConstellations = document.getElementById("numconstellations");
        minConstellationSize = document.getElementById("minconstellationsize");
        constellationSizeRange = document.getElementById("constellationsizerange");
        constellationDistance = document.getElementById("constellationdistance");
        prettifyConstellations = document.getElementById("prettifyconstellations");

        LatinNames = document.getElementById("LatinNames");
        NorseNames = document.getElementById("NorseNames");
        ArabicNames = document.getElementById("ArabicNames");
        CulturalSymbolism = document.getElementById("CulturalSymbolism");

        canvasSize = document.getElementById("canvassize");
        invertColours = document.getElementById("invertcolours");
        newSeed();
        let canvas = createCanvas(CANVAS_SIZE, CANVAS_SIZE);
        canvas.parent('canvas');
        onInput();
        noLoop();
      }

      function newSeed(){
        let seed = floor(random(99999999999999));
        inpSeed.value = seed;
        onInput();
      }

      function draw() {
        translate(width/2, height/2);
        if (INVERTED_COLOURS){
          background(255);
          stroke(0);
          noFill();
          strokeWeight(1);
          ellipse(0, 0, width-1, height-1);
        }else{
          background(0);
          stroke(255);
          noFill();
          strokeWeight(1);
          ellipse(0, 0, width-1, height-1);
        }
        for(let star of stars){
          /* strokeWeight(0.5);*/

          let c = star.color;
          fill(c);

          circle(this.x * width / 2, this.y * height / 2, this.luminosity * LUMINOSITY_MULTIPLIER);
        }
        for(let constellation of constellations){
          constellation.show();
        }
      }

      function onInput(){
        randomSeed(inpSeed.value);
        let constellationSeed = random(99999999999999);
        INVERTED_COLOURS = invertColours.checked;
        STARDENSITY = parseInt(starDensity.value);
        NUM_CONSTELLATIONS = parseInt(numConstellations.value);
        MIN_CONSTELLATION_SIZE = parseInt(minConstellationSize.value);
        CONSTELLATION_SIZE_RANGE = parseInt(constellationSizeRange.value);
        CONSTELLATION_DISTANCE = pow(2, constellationDistance.value)/1024;
        PRETTIFY_CONSTELLATIONS = prettifyConstellations.checked;
        INCLUDE_LATIN = LatinNames.checked
        INCLUDE_NORSE = NorseNames.checked
        INCLUDE_ARABIC = ArabicNames.checked
        INCLUDE_CULTURAL_SYMBOLISM = CulturalSymbolism.checked

        CANVAS_SIZE = canvasSize.value;

        resizeCanvas(CANVAS_SIZE, CANVAS_SIZE);
        stars = generateStars();
        randomSeed(constellationSeed);
        constellations = generateConstellations(stars);
        updateUI();
        updateJSON()
      }

      function updateUI(){

        document.getElementById('stardensity_Value').innerText = STARDENSITY;
        document.getElementById('numconstellations_Value').innerText = NUM_CONSTELLATIONS;
        document.getElementById('minconstellationsize_Value').innerText = MIN_CONSTELLATION_SIZE;
        document.getElementById('constellationsizerange_Value').innerText = CONSTELLATION_SIZE_RANGE;
        document.getElementById('constellationdistance_Value').innerText = Math.log2(CONSTELLATION_DISTANCE * 1024) ;
        redraw();
        var constellations_output =""
        for (i = 0; i < NUM_CONSTELLATIONS; i++) {
          current_constellation_name = constellations[i].name;
          constellations_output = constellations_output + current_constellation_name + "</br>";
        }

        let controlDivOutputForConstellations = document.querySelector('#constellation_output .control');
        controlDivOutputForConstellations.innerHTML = constellations_output;
      }

      function updateJSON(){
        let data = {
          'seed': inpSeed.value,
          'num_constellations': numConstellations.value,
          'min_constellation_size': minConstellationSize.value,
          'constellation_size_range': constellationSizeRange.value,
          'constellation_distance': constellationDistance.value,
          'star_density': starDensity.value,
          'prettify_constellations':prettifyConstellations.checked,
          'inverted_colours': invertColours.checked,
          'canvas_size': canvasSize.value,
        }
        document.getElementById("inpjson").value = JSON.stringify(data);
      }

      function readJSON(){
        data = JSON.parse(document.getElementById("inpjson").value);
        inpSeed.value = data.seed;
        numConstellations.value = data.num_constellations;
        minConstellationSize.value = data.min_constellation_size;
        constellationSizeRange.value = data.constellation_size_range;
        constellationDistance.value = data.constellation_distance;
        starDensity.value = data.star_density;
        prettifyConstellations.checked = data.prettify_constellations;
        invertColours.checked = data.inverted_colours;
        canvasSize.value=data.canvas_size;
        onInput();
      }

      function generateStars(){
        let stars = new Array(floor(pow(2, starDensity.value)));
        for(let i =0; i<stars.length; i++){
          stars[i] = randomStar();
        }
        stars.sort((a, b) => a.luminosity-b.luminosity);
        return stars
      }

      /**
       * This function generates constellations from a given set of stars.
       * @param {Array} stars - An array of stars from which constellations will be generated.
       * @returns {Array} An array of generated constellations.
       */
      function generateConstellations(stars){
        let constellations = []; // Array to hold the generated constellations
        let remaining = stars.slice(); // Copy of the stars array to keep track of remaining stars

        // While we haven't reached the desired number of constellations and there are still stars left
        while (constellations.length < NUM_CONSTELLATIONS && remaining.length > 0){
          let constellation = new Constellation(); // Create a new constellation
          constellation.stars.push(remaining.pop()); // Add a star to the constellation

          // Determine the size of the constellation
          var CONSTELLATION_SIZE = Math.round(random(CONSTELLATION_SIZE_RANGE)) + MIN_CONSTELLATION_SIZE;

          // While the constellation doesn't have enough stars
          while (constellation.stars.length < CONSTELLATION_SIZE){
            let selected = random(constellation.stars); // Select a random star from the constellation
            let found = false; // Flag to indicate if a suitable star was found

            // Loop over the remaining stars
            for (let i = 0; i < remaining.length; i++){
              let star = remaining[i]; // Current star
              let inrange = selected.projectedDistance(star) < CONSTELLATION_DISTANCE; // Check if the star is in range
              let nointersect = true; // Flag to indicate if the star intersects with any other constellation

              // Loop over the other constellations
              for (let otherconst of constellations){
                // Check if the star intersects with the other constellation
                if (otherconst.intersects(selected, star)){
                  nointersect = false;
                }
              }

              // If the star is in range and doesn't intersect with any other constellation
              if (inrange && nointersect){
                constellation.stars.push(star); // Add the star to the constellation
                constellation.edges.push([selected, star]); // Add an edge between the selected star and the new star
                constellation.name = nameGen(); // Generate a name for the constellation
                remaining.splice(i, 1); // Remove the star from the remaining stars
                found = true; // Set the flag to true
                break;
              }
            }

            // If no suitable star was found, break the loop
            if (!found){
              break;
            }
          }

          // If the constellations should be prettified
          if (PRETTIFY_CONSTELLATIONS){
            constellations.push(constellation.prettify()); // Add the prettified constellation to the array
          } else{
            constellations.push(constellation); // Add the constellation to the array
          }
        }

        return constellations; // Return the array of constellations
      }

      function polarToCartesian(angle, radius){
        return {
          x:radius * cos(angle),
          y:radius * sin(angle)
        };
      }

      function stereographicProject(phi, theta){
        //returns a polar coordinate r, theta by projecting phi, theta
        //from the sphere to the plane.
        //phi is the zenith angle 0 <= phi <= PI
        //theta is the azimuth angle 0 <= theta <= TWO_PI
        return {
          r:sin(phi)/(1-cos(phi)),
          theta:theta
        };
      }

      function stereographicToCartesian(phi, theta){
        polar = stereographicProject(phi, theta);
        return polarToCartesian(polar.theta, polar.r);
      }

      function Star(phi, theta, luminosity){
        this.phi = phi;
        this.theta = theta;
        this.luminosity = luminosity;
        this.r = stereographicProject(this.phi, this.theta).r;
        let cart = stereographicToCartesian(this.phi, this.theta);
        this.x = cart.x;
        this.y = cart.y;
        if (INVERTED_COLOURS){
          this.color = color(0,0,0);
        }else{
          this.color = color(255,255,255);
        }
      }

      function getRandomColor(c, c1) {
        var color = Math.floor(Math.random() * (c1 - c + 1)) + c;
        return color;
      }

      function getRandomNormal(mean, stdDev) {
        let u = 0, v = 0;
        while (u === 0) u = Math.random(); //Converting [0,1) to (0,1)
        while (v === 0) v = Math.random();
        let num = Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);
        num = num * stdDev + mean; // Translate to desired mean and standard deviation
        return num;
      }

      Star.prototype.show = function(){
      }

      Star.prototype.angleTo = function(other){
        //returns the central angle between two stars in radians
        Dphi = (this.phi - other.phi);
        Dtheta = (this.theta - other.theta);
        term1 = pow(sin(Dphi/2),2);
        term2 = cos(this.phi) * cos(other.phi) * pow(sin(Dtheta/2), 2);
        Drho = 2 * asin(sqrt(term1 + term2));
        return Drho;
      }

      Star.prototype.projectedDistance = function(other){
          return distance(this, other);
      }

      function randomStar(){
        //select a random point uniformly across a hemisphere
        u = random();
        v = random(0.5); //0-0.5: above horizon, 0.5-1 below horizon
        phi = acos(2*v-1);
        theta = TWO_PI * u;
        var stdDev = 0.0825;
        var code = random(0, 99);
        var red
        var green
        var blue
        switch (code) {
            case 0:
              var specialCode = random(1, 10);
              switch (specialCode) {
                  case 1: case 2: case 3: case 4: case 5:
                      luminosity = getRandomNormal(.75, stdDev);
                      red = getRandomColor(255,255);
                      green = getRandomColor(0,69);
                      blue = getRandomColor(0,0);
                      /* RBG1 = (255, 0, 0); 
                      RBG2 = (255, 69, 0);
                      return 'Class K or M Giant Red or Orange';*/
                  case 6:
                      luminosity = getRandomNormal(.75, stdDev);
                      red = getRandomColor(255,255);
                      green = getRandomColor(0,69);
                      blue = getRandomColor(0,0);
                      /* RBG1 = (255, 0, 0);
                      RBG2 = (255, 69, 0);
                      return 'Class M Red Supergiant Dull Read';*/
                  case 7: case 8:
                      luminosity = getRandomNormal(.75, stdDev);
                      red = getRandomColor(202,224);
                      green = getRandomColor(215,233);
                      blue = getRandomColor(255,255);
                      color = color(getRandomColor(202,224), getRandomColor(215,233), getRandomColor(255,255));
                      /* RBG1 = (202, 215, 255);
                      RBG2 = (224, 233, 255);
                      return 'Class B Blue Giant Bright Blue';*/
                  case 9:
                      luminosity = getRandomNormal(.75, stdDev);
                      red = getRandomColor(0,155);
                      green = getRandomColor(0,176);
                      blue = getRandomColor(255,255);
                      /* RBG1 = (0, 0, 255);
                      RBG2 = (155, 176, 255);
                      return 'Class O Blue Supergiant Bright Blue';*/
                  case 10:
                      luminosity = getRandomNormal(.25, stdDev);
                      red = getRandomColor(0,155);
                      green = getRandomColor(0,176);
                      blue = getRandomColor(255,255);
                      /* RBG1 = (0, 0, 255);
                      RBG2 = (155, 176, 255);
                      return 'Neutron Star deep Blue to Violet';*/
            }
            case 1: case 2: case 3: case 4: case 5: case 6: case 7: case 8: case 9:
                luminosity = getRandomNormal(.25, stdDev);
                red = getRandomColor(202,255);
                green = getRandomColor(225,255);
                blue = getRandomColor(255,255);
                /* RBG1 = (202, 225, 255);
                RBG2 = (255, 255, 255);
                return 'White Dwarf';*/
            case 10:
                luminosity= getRandomNormal(.5, stdDev);
                red =  getRandomColor(202,255);
                green = getRandomColor(215,255);
                blue = getRandomColor(255,255);
                /* RBG1 = (202, 215, 255);
                RBG2 = (255, 255, 255);
                return 'Class A - Bright Blue-White';*/
            case 11: case 12: case 13:
                luminosity = getRandomNormal(.5, stdDev);
                red = getRandomColor(255,255);
                green = getRandomColor(249,255);
                blue = getRandomColor(224,255);
                /* RBG1 = (255, 249, 224);
                RBG2 = (255, 255, 255);
                return 'Class F - White';*/
            case 14: case 15: case 16: case 17: case 18: case 19: case 20:
                luminosity = getRandomNormal(.5, stdDev);
                red = getRandomColor(255,255);
                green = getRandomColor(247,255);
                blue = getRandomColor(0,200);
                /* RBG1 = (255, 255, 0);
                RBG2 = (255, 247, 200);
                return 'Class G - Yellow';*/
            case 21: case 22: case 23: case 24: case 25: case 26: case 27: case 28: case 29: case 30: case 31: case 32: case 33:
                luminosity = getRandomNormal(.5, stdDev);
                red = getRandomColor(255,255);
                green = getRandomColor(165,223);
                blue = getRandomColor(0,186);
                /* RBG1 = (255, 165, 0);
                RBG2 = (255, 223, 186);
                return 'Class K - Orange';*/
            default:
                luminosity = getRandomNormal(.5, stdDev);
                red = getRandomColor(255,255);
                green = getRandomColor(0,69);
                blue = getRandomColor(0,0);
                /* RBG1 = (255, 0, 0);
                RBG2 = (255, 69, 0);
                return 'Class M - Red';*/
          }
        s = new Star(phi, theta, luminosity);
        s.color = color(red, green, blue);
        return s;
      }

      function Constellation(){
        this.stars = [];
        this.edges = [];
        this.name;
      }

      Constellation.prototype.show = function(){
        stroke(255, 255, 255);
        strokeWeight(0.5);
        for (let edge of this.edges){
          line(edge[0].x*width/2, edge[0].y*height/2, edge[1].x*width/2, edge[1].y*height/2);
        }
      }

      /**
       * This method checks if a line between two stars intersects with any edge in the constellation.
       * @param {Object} star1 - The first star, an object with x and y properties representing its coordinates.
       * @param {Object} star2 - The second star, an object with x and y properties representing its coordinates.
       * @returns {boolean} Returns true if the line between star1 and star2 intersects with any edge in the constellation, otherwise returns false.
       */
      Constellation.prototype.intersects = function(star1, star2){
        // Loop over each edge in the constellation
        for (let edge of this.edges){
          // Check if the line between star1 and star2 intersects with the current edge
          if (intersects(
            star1.x, star1.y, star2.x, star2.y,
            edge[0].x, edge[0].y, edge[1].x, edge[1].y
          )){
            // If it does, return true
            return true;
          }
        }
        // If no intersection was found after checking all edges, return false
        return false;
      }

      /**
       * This method prettifies the constellation by applying the Delaunay triangulation and relative neighbors algorithm.
       * @returns {Object} Returns a new constellation object that has been "prettified".
       */
      Constellation.prototype.prettify = function(){
        let delaunay = this.delaunay(); // Apply Delaunay triangulation to the constellation
        let newConstellation = delaunay.relativeneighbors(); // Apply the relative neighbors algorithm to the triangulated constellation
        newConstellation.name = this.name; // Copy the name of the original constellation
        return newConstellation; // Return the new, "prettified" constellation
      }

      Constellation.prototype.delaunay = function(){
        let newconstellation = new Constellation();
        let nodes = this.stars;
        let lines = [];
        if (nodes.length < 2){
          return this;
        }
        if (nodes.length === 2){
          newconstellation.stars = nodes.splice();
          newconstellation.edges.push([nodes[0], nodes[1]]);
          return newconstellation;
        }
        let triangulation = [];
        let supertriangle = [{x:-10, y:-20}, {x:-10, y:10}, {x:20, y:10}];
        triangulation.push(supertriangle);

        for (let node of nodes){
          //find all triangles that are no longer valid due to this node's insertion
          let badtriangles = []
          for (let triangle of triangulation){
            if (insidecircle(node, circumcircle(triangle[0], triangle[1], triangle[2]))){
              badtriangles.push(triangle);
            }
          }

          // Find the boundary of polgonal hole formed by these "bad" triangles
          let polygon = [];
          for (let triangle of badtriangles){
            for (let i = 0; i < 3; i++) {
              // get the edges of the bad triangles which don't touch other bad triangles
              let edgefrom = triangle[i];
              let edgeto = triangle[(i+1)%3];
              let sharedWithOther = false;
              for (let other of badtriangles) {
                if (other === triangle){
                  continue;
                }
                if (other.indexOf(edgefrom) === -1){
                  continue;
                }
                if (other.indexOf(edgeto) === -1){
                  continue;
                }
                sharedWithOther = true;
                break;
              }
              if (!sharedWithOther) {
                polygon.push(edgefrom, edgeto);
              }
            }
          }
          //discard all bad triangles
          for (let triangle of badtriangles){
            triangulation.splice(triangulation.indexOf(triangle), 1);
          }
          //re-triangulate the polygonal hole. create a new triangle for each edge
          for (let i = 0; i < polygon.length - 1; i +=2){
            let triangle = [polygon[i], polygon[i+1], node];
            triangulation.push(triangle);
          }
        }

        //remove all triangles that contain a vertex from the original super-triangle
        for (let i = 0; i < triangulation.length; i++){
          let triangle = triangulation[i];
          for (let vertex of triangle){
            if (supertriangle.indexOf(vertex) !== -1){
              triangulation.splice(i, 1);
              i--;
              break;
            }
          }
        }

        let links = [];
        //convert triangles to unique lines
        for (let triangle of triangulation){
          let v0 = triangle[0], v1 = triangle[1], v2 = triangle[2];
          let firstDuplicate = false, secondDuplicate = false, thirdDuplicate = false;
          for (let link of links){
            if(link.includes(v0) && link.includes(v1)){
              firstDuplicate = true;
            }
            if(link.includes(v1) && link.includes(v2)){
              secondDuplicate = true;
            }
            if(link.includes(v2) && link.includes(v0)){
              thirdDuplicate = true;
            }
          }
          if (!firstDuplicate){
            links.push([v0, v1]);
          }
          if (!secondDuplicate){
            links.push([v1, v2]);
          }
          if (!thirdDuplicate){
            links.push([v2, v0]);
          }
        }
        newconstellation.stars = nodes;
        newconstellation.edges = links;

        return newconstellation;
      }

      Constellation.prototype.relativeneighbors = function(){
        let links = this.edges.slice();
        let graphlinks = [];
        for (let link of links){
          let anyBlocking = false;
          let length = distance(link[0], link[1]);
          for (let node of this.stars){
            if (link.includes(node)){
              continue;
            }
            if ((distance(node, link[0]) < length) && (distance(node, link[1]) < length)){
              anyBlocking = true;
              break;
            }
          }
          if (!anyBlocking) {
            graphlinks.push(link);
          }
        }
        newconstellation = new Constellation();
        newconstellation.stars = this.stars.slice();
        newconstellation.edges = graphlinks;

        return newconstellation;
      }

      // Line segment intersection, see https://stackoverflow.com/questions/9043805/test-if-two-lines-intersect-javascript-function#15182022
      // returns true iff the line from (a,b)->(c,d) instersects with (p,q)->(r,s)
      function intersects(a,b,c,d,p,q,r,s) {
        let det, gamma, lambda;
        det = (c - a) * (s - q) - (r - p) * (d - b);
        if (det === 0) {
          return false;
        } else {
          lambda = ((s - q) * (r - a) + (p - r) * (s - b)) / det;
          gamma = ((b - d) * (r - a) + (c - a) * (s - b)) / det;
          return (0 < lambda && lambda < 1) && (0 < gamma && gamma < 1);
        }
      }

      function perpendicularBisector(p, q) {
        //given two points p and q, returns the perpendicular bisector on the form ax + by = c
        let linea = q.y - p.y;
        let lineb = p.x - q.x;
        let linec = linea * p.x + lineb * p.y;
        let midpoint = {
          x:(p.x+q.x)/2,
          y:(p.y+q.y)/2
        };
        return {
          a: -lineb,
          b: linea,
          c: -lineb*midpoint.x + linea*midpoint.y
        };
      }

      function linelineintersection(l1, l2){
        determinant = l1.a * l2.b - l2.a * l1.b;
        if (determinant == 0){
          return undefined; //lines are parallel, no intersection exists
        }
        return {
          x: (l2.b * l1.c - l1.b * l2.c)/determinant,
          y: (l1.a * l2.c - l2.a * l1.c)/determinant
        };
      }

      function circumcircle(p1, p2, p3){
        let a = distance(p1, p2);
        let b = distance(p1, p3);
        let c = distance(p2, p3);
        let bisector1 = perpendicularBisector(p1, p2);
        let bisector2 = perpendicularBisector(p1, p3);
        return {
          diameter: (2 * a * b * c) / sqrt((a+b+c)*(b+c-a)*(c+a-b)*(a+b-c)),
          center: linelineintersection(bisector1, bisector2)
        }
      }

      function insidecircle(point, circle){
        let dist= distance(point, circle.center);
        return dist <= circle.diameter/2;
      }

      function distance(p1, p2){
        return sqrt(pow((p1.x-p2.x),2) + pow((p1.y-p2.y),2));
      }

      function nameGen(){

          greek = Math.floor(Math.random() * greekNames.length);
          animals = Math.floor(Math.random() * animalsLatin.length);
          things = Math.floor(Math.random() * thingsLatin.length);

          if (Math.random()<0.15) {
            prefix = Math.floor(Math.random() * (prefixLatin.length - 2) );
          } else {
            prefix = prefixLatin.length-1;
          }

          if (Math.random() > 0.5) {
            names = greekNames[greek] + "("+ greekLetters[greek]+") " + animalsLatin[animals] + " " + prefixLatin[prefix]+ " from the constellation The " + prefixEnglish[prefix] + " " + animalsEnglish[animals];
            names = " The " + prefixEnglish[prefix] + " " + animalsEnglish[animals] + "</br>";

            if(INCLUDE_LATIN) {
              names += " (" + prefixLatin[prefix] + " " + animalsLatin[animals] + ")";
            } 

            if(INCLUDE_NORSE) {
              names += " ("  + prefixNorse[prefix] + " " +  animalsNorse[animals] + ")";
            }

            if(INCLUDE_ARABIC) {
              names += " ("  + prefixArabicRomanized[prefix] + " " +  animalsArabicRomanized[animals] + ")";
            }
            if(INCLUDE_CULTURAL_SYMBOLISM) {
              names += "</br>";
              names += " [postive]: " + animalsPositiveMeaning[prefix]+"</br>";
              names += " [negative]: " + animalsNegativeMeaning[prefix];
            }

          } else {
            names = greekNames[greek] + "("+ greekLetters[greek]+") " + thingsLatin[things] + " " + prefixLatin[prefix]+ " from the constellation The " + prefixEnglish[prefix] + " " + thingsEnglish[things];
            names = "The " + prefixEnglish[prefix] + " " + thingsEnglish[things] + "</br>";

            if(INCLUDE_LATIN) {
              names += " (" + prefixLatin[prefix] + " " + thingsLatin[things] + ")";
            }
            if(INCLUDE_NORSE) {
              names += " (" + prefixNorse[prefix] + " " + thingsNorse[things] + ")";
            }
            if(INCLUDE_ARABIC) {
              names += " (" + prefixArabicRomanized[prefix] + " " + thingsArabicRomanized[things] + ")";
            }
            if(INCLUDE_CULTURAL_SYMBOLISM) {
              names += "</br>";
              names += " [postive]: " + thingsPositiveMeaning[prefix]+"</br>";
              names += " [negative]: " + thingsNegativeMeaning[prefix];
            }

          }
          names += "</br>";
          return names;
      }
    </script>
    <script>
      var greekNames= ["Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega"];
      var greekLetters = ["ά","β","γ","δ","έ","ζ","ή","θ","ι","κ","λ","μ","ν","ξ","ό","π","ρ","σ","τ","ύ","φ","χ","ψ","ω"];
      var norseRunes = ["ᛅ",  "ᛘ",  "ᚴ",  "ᛏ",  "ᛅ",  "ᛋ",  "ᚼ",  "ᚦ",  "ᛁ",  "ᚴ",  "ᛚ",  "ᛘ",  "ᚾ",  "ᚴᛋ",  "ᚬ",  "ᛒ",  "ᚱ",  "ᛋ",  "ᛏ",  "ᚢ",  "ᚠ",  "ᚴ",  "ᚢᛋ",  "ᚬ"];

      var animalsEnglish = ["Albatross","Alligator","Ant","Antelope","Baboon","Badger","Bat","Bear","Beaver","Bee","Bird","Boar","Butterfly","Cat","Catfish","Chameleon","Chipmunk","Cobra","Cow","Crab","Crane","Crow","Deer","Dog","Donkey","Dove","Dragon","Dragonfly","Duck","Eagle","Elephant","Flamingo","Fox","Frog","Gazelle","Gecko","Gerbil","Goat","Goose","Hare","Hawk","Hedgehog","Hippo","Horse","Hummingbird","Hyena","Ibis","Jackal","Kangaroo","Lemur","Leopard","Lion","Lizard","Lobster","Lynx","Macaw","Monkey","Mouse","Mule","Ocelot","Ostrich","Otter","Owl","Ox","Parror","Pelican","Pheasant","Pig","Pigeon","Porcupine","Rabbit","Raven","Rhino","Salmon","Seagull","Seal","Serpent","Shark","Sheep","Snake","Sparrow","Spider","Squirrel","Starfish","Stork","Swallow","Swan","Tapir","Tiger","Turtle","Vulture","Wasp","Whale","Wolf"];
      var animalsLatin =["Albus Kados","Lacertus","Formica","Oryx Illaqueatus","Papio","Melis","Vespertilio","Ursa","Castori Concedite","Apes","Avem","Aper","Gloria","Cattus","Silurus","Sacrorum","Cellariarius","Colubra","Uaccam","Cancer","Cicero","Corvus","Cervus","Canis","Asinus","Columba","Draco","Draco Volant","Mea","Aquila","Elephantus","Atropurpureum","Vulpes","Rana","Silvis","Stilio","Rodentia","Capra","Anser","Lepus","Accipiter","Erinaceus","Serm","Equus","Hummingbird","Hyaenis","Ibis","Fontem Draconis","Macropus","Lemurem","Pardus","Leo","Lacerta","Cammarus","Lynx","Mascarene","Simia","Mus","Adonias","Ocelot","Ptilium","Lutra","Noctua","Bovi","Parror","Pellicane","Phasianum","Porcus","Columbam","Absentia","Lepus","Corvus","Warner","Salmo","Larus","Phoca","Serpenti","Pistris","Ovium","Anguis","Passer","Aranea","Sciurus","Maris Stella","Ciconia","Hirundo","Olor","Tapir","Tigris","Testudo","Vulturius","Vespa","Balena","Lupus"];
      var animalsNorse= ["Skjaldbaka", "Maríus", "Hjartdýr", "Faldari", "Grǫf", "Leðrblaka", "Bjǫrn", "Bjórr", "Bý", "Fugl", "Galt", "Skrautblomi", "Köttur", "Gíra", "Skjaldlítr", "Skepnamús", "Naðr", "Kú", "Krabbi", "Hérnefja", "Hrafnr", "Hindr", "Hundr", "Asni", "Dúfa", "Dreki", "Skordýr", "Andr", "Arn", "Ílfr", "Flamingó", "Refr", "Froskr", "Gazella", "Geiko", "Gerbíl", "Geit", "Gás", "Héra", "Haukr", "Ígull", "Flódhest", "Hestr", "Húmfugl", "Hyena", "Ibis", "Skrælingi", "Kangarú", "Lemúr", "Leópardr", "Ljón", "Skinka", "Skrápr", "Lúnga", "Macaw", "Apa", "Mús", "Múli", "Okulóttur", "Straútur", "Ottr", "Ugla", "Ux", "Línafugl", "Stórfugl", "Hæðarfugl", "Svín", "Dúfa", "Stungumús", "Kanína", "Hrafnr", "Hrútur", "Lax", "Sjúgandi", "Selr", "Ormr", "Hábrók", "Kind", "Snákr", "Spör", "Veðr-spá", "Skviða", "Stjarnufiskr", "Storkr", "Svalur", "Svanr", "Tapír", "Tigr", "Skjaldbaka", "Hræsvelgur", "Hrefna", "Hvalr", "Ulfr"];
      var animalsNorseRunes= [ "ᛋᚴᛁᚨᛚᛏᛅᛒᛅᚴᚨ", "ᛘᚨᚱᛁᚢᛋ", "ᚼᛁᚨᚱᛏᛏᚦᚢᛦ", "ᚠᚨᛚᛏᚨᚱᛁ", "ᚴᚱᚢᚠ", "ᛚᛁᚦᚱᛒᛚᛅᚴᚨ", "ᛒᛁᚢᚱᚾ", "ᛒᛁᚢᚱᚱ", "ᛒᚢᚱ", "ᚠᚢᚴᛚ", "ᚴᚨᛚᛏ", "ᛋᚴᚱᚨᚢᛏᛒᛚᚢᛘᛁ", "ᚴᚬᛏᚢᚱ", "ᚴᛁᚱᚬ", "ᛋᚴᛁᚨᛚᛞᛚᛁᛏᚱ", "ᛋᚴᛁᛒᚾᚨᛘᚢᛋ", "ᚾᚨᚦᚱ", "ᚴᚢ", "ᚴᚱᚨᛒᛁ", "ᚺᚬᚱᚾᛅᚠᛁᚨ", "ᚺᚱᚨᚠᚾᚱ", "ᚼᛁᚾᛏᚱ", "ᚼᚢᚾᛏᚱ", "ᚬᛋᚾᛁ", "ᛏᚢᚠᚬ", "ᛏᚱᛁᚴᛁ", "ᛋᚴᚢᚱᛏᚢᚱ", "ᚬᚾᛞᚱ", "ᚬᚱᚾ", "ᛁᛚᚠᚱ", "ᚠᛚᛅᛘᛁᚾᚴᚢ", "ᚱᛅᚠᚱ", "ᚠᚱᚬᛋᚴᚱ", "ᚴᛅᛉᛁᛚᛅ", "ᚴᛅᚴᚬ", "ᚴᛅᚱᛒᛁᛚ", "ᚴᛅᛁᛏ", "ᚴᛅᛋ", "ᚼᛁᚱᛅ", "ᚼᚬᚢᚴᚱ", "ᛁᚴᚢᛚ", "ᚠᛚᚬᚦᚼᛅᛋᛏ", "ᚼᛁᛋᛏᚱ", "ᚼᚢᛘᚠᚢᚴᛚ", "ᚼᛁᚢᚾᛅ", "ᛁᛒᛁᛋ", "ᛋᚴᚱᛅᛁᛚᚾᚴᛁ", "ᚴᛅᛁᚾᚴᛅᚱᚢ", "ᛚᛁᛘᚢᚱ", "ᛚᛁᚬᛒᚬᚱᛏᚱ", "ᛚᛁᛅᚾ", "ᛋᚴᛁᚾᚴᛅ", "ᛋᚴᚱᛅᛒᚱ", "ᛚᚢᛅᚴᚾᚬ", "ᛘᛅᚴᚬᚢ", "ᚬᛒᚬ", "ᛘᚢᛋ", "ᛘᚢᛚᛁ", "ᚬᚴᚢᛚᛅᛏᚬᚢᚱ", "ᛋᛏᚱᚬᚢᛏᚢᚱ", "ᚬᛏᚱ", "ᚢᚴᛚᛅ", "ᚢᚴᛋ", "ᛚᛁᚾᚬᚠᚢᚴᛚ", "ᛋᛏᚮᚱᚠᚢᚷᛚ", "ᚺᛁᚨᚦᚬᚱᚠᚢᚷᛚ", "ᛋᚢᚴᚾ", "ᛏᚢᚠᚬ", "ᛋᛏᚢᚾᚷᚢᛘᚢᛋ", "ᚴᚬᚾᛁᚾᚬ", "ᚺᚱᚬᚠᚾᚱ", "ᚼᚱᚢᛏᚢᚱ", "ᛚᛅᚽ", "ᛋᛁᚢᚴᚬᚾᛏᛁ", "ᛋᛁᛅᛚ", "ᚬᚱᛘᚱ", "ᚺᚬᛒᚱᚬᚴ", "ᚴᛁᚾᛏ", "ᛋᚾᛅᚴᚱ", "ᛋᛅᚢᚱ", "ᚢᛚᚬᚱ-ᛋᛏᚾᛅ", "ᛋᚴᚢᛁᚦᚬ", "ᛋᛏᛁᚬᚱᚾᚢᚠᛁᛋᚲᚱ", "ᛋᛏᚬᚱᚴᛦ", "ᛋᚢᛅᛚᚢᚱ", "ᛋᚢᚬᚾᚱ", "ᛏᛅᛒᛁᚱ", "ᛏᛁᚴᚱ", "ᛋᚴᛁᛅᛚᛏᛅᚼᛅᚴᚬ", "ᚼᚱᛅᛋᚢᛁᛚᚢᚱ", "ᚼᚱᛅᚠᚿᛅ", "ᚼᚢᛅᛚᛦ", "ᚢᛚᚠᛦ"];
      var animalsArabic = ["الطائر البحري", "التمساح", "النملة", "الظبي", "البابون", "الجرذ الجارح", "الخفاش", "الدب", "القندس", "النحلة", "الطائر", "الخنزير البري", "الفراشة", "القط", "سمك القنادس", "الحرباء", "السنجاب الصغير", "الأفعى الكوبرا", "البقرة", "السلطعون", "الكركي", "الغراب", "الغزال", "الكلب", "الحمار", "الحمامة", "التنين", "اليعسوب", "البطة", "العقاب", "الفيل", "الفلامنغو", "الثعلب", "الضفدع", "الغزالة", "اليمبرا", "الجربيل", "الماعز", "الإوزة", "الأرنب البري", "الصقر", "القنفذ", "الفيل النهري", "الحصان", "طائر الطنان", "الضبع", "البشارة", "الذئب البري", "الكنغر", "الليمور", "الفهد", "الأسد", "السحلية", "اللوبستر", "السمراء", "الببغاء", "القرد", "الفأر", "البغل", "الأوسيلوت", "النعام", "السمور", "البومة", "الثور", "الببغاء", "البجعة", "الفازة", "الخنزير", "الحمام", "القنفذ البحري", "الأرنب", "الغراب", "الوحيد القرن", "السلمون", "نورس البحر", "الفقمة", "الثعبان", "القرش", "الخروف", "الثعبان", "العصفور", "العنكبوت", "السنجاب", "نجمة البحر", "اللقلق", "السنونو", "البجع", "الطبير", "النمر", "السلحفاة", "النسر الجارح", "الدبور", "الحوت", "الذئب"];
      var animalsArabicRomanized = ["Alṭārūs", "Allīgāṭūr", "Namla", "Ẓabī", "Bābūn", "Jarḥ", "Khufāf", "Dib", "Qanadis", "Nahla", "Ṭā'ir", "Khinzīr barī", "Farfasha", "Qitta", "Samak al-qannādis", "Ḥardal", "Sqwīr", "Al'uḏu'", "Baqara", "Al-qaṣṣāb", "Al-nāmūs", "Al-ghurāb", "Ghazāl", "Kalb", "Ĥimār", "Ḥamāma", "Al-tinnīn", "La'nat al-tinnīn", "Al-batt", "Al-nasr", "Fil", "Al-fallaminqū", "Al-ḫaṭṭāb", "Dafda'a", "Al-ghazāl", "Al-jimbarā", "Al-ǧarbiyy", "Ma'iz", "Ghanām", "Arnab", "Al-bāzi", "Qunfuẓ", "Al-ḥiḍdān", "Khayl", "Ṯunnān", "Dabu", "Al-bishāra", "Al-tha'lab al-barī", "Al-kangaroo", "Al-limūr", "Al-namir", "Al-asad", "Al-ḥiḍd", "Al-astankūs", "Al-samrā", "Al-bibġā'", "Al-qird", "Fa'r", "Baḫl", "Al-uḫlūt", "Al-na'āma", "Al-sāmūr", "Al-būmā", "Al-baqara", "Al-bibġā'", "Al-belqan", "Al-fizān", "Khinzīr", "Ḥamāma", "Qunfuẓ al-baḥr", "Arnab", "Al-ghurāb", "Al-waḥīd al-qarn", "Al-sāmūn", "Na'uris al-baḥr", "Al-fulq", "Al-ṯu'ban", "Al-qarš", "Ghanām", "Al-ṯu'ban", "Al-ʿuṣfūr", "Al-ʿankabūt", "Al-ǧarbiyy", "Najmat al-baḥr", "Al-laqlaq", "Al-sunūn", "Al-bajja", "Al-ṭabīr", "Al-namir", "Al-sulḥafah", "Al-nasr al-jāriḥ", "Al-dabūr", "Al-ḥūt", "Al-dhib"];
      var animalsPositiveMeaning = [ "Freedom, adventure, and long journeys", "Primal instincts, survival, and strength", "Hard work, cooperation, and community", "Grace, agility, and adaptability", "Intelligence, adaptability, and social bonds", "Tenacity, determination, and courage", "Transition, rebirth, and intuition", "Strength, leadership, and introspection", "Creativity, resourcefulness, and building", "Industriousness, cooperation, and community", "Freedom, inspiration, and spirituality", "Ferocity, bravery, and protection", "Transformation, change, and rebirth", "Independence, mystery, and intuition", "Depth of emotion and hidden aspects", "Adaptability, change, and camouflage", "Preparedness, thriftiness, and playfulness", "Transformation, power, and protection", "Nourishment, patience, and motherhood", "Emotion, protection, and regeneration", "Grace, communication, and wisdom", "Intelligence, magic, and change", "Gentleness, sensitivity, and grace", "Loyalty, friendship, and protection", "Humility, service, and determination", "Peace, love, and purity", "Power, strength, and protection", "Transformation, agility, and adaptability", "Adaptability, emotional balance, and community", "Vision, strength, and leadership", "Wisdom, memory, and family bonds", "Balance, grace, and social connections", "Cunning, adaptability, and intelligence", "Transformation, rebirth, and cleansing", "Swiftness, beauty, and grace", "Adaptability, survival, and protection", "Resourcefulness, curiosity, and agility", "Independence, determination, and curiosity", "Loyalty, teamwork, and navigation", "Speed, fertility, and intuition", "Focus, vision, and messages from the spirit", "Self-preservation, protection, and intuition", "Stability, strength, and emotional depth", "Freedom, power, and partnership", "Joy, lightness, and agility", "Adaptability, cunning, and survival", "Wisdom, magic, and transformation", "Resourcefulness, adaptability, and cunning", "Balance, maternal love, and strength", "Adaptability, curiosity, and community", "Courage, stealth, and independence", "Courage, strength, and nobility", "Regeneration, dreams, and vision", "Emotional depth, adaptability, and protection", "Secrets, intuition, and perception", "Vibrancy, communication, and social bonds", "Playfulness, curiosity, and intelligence", "Modesty, attention to detail, and resourcefulness", "Patience, hard work, and strength", "Solitude, stealth, and adaptability", "Speed, adaptability, and strength", "Playfulness, teamwork, and joy", "Wisdom, mystery, and intuition", "Strength, determination, and hard work", "Communication, social bonds, and adaptability", "Self-sacrifice, generosity, and community", "Confidence, fertility, and protection", "Abundance, nourishment, and diligence", "Peace, love, and gentleness", "Self-defense, boundaries, and protection", "Fertility, agility, and abundance", "Magic, transformation, and knowledge", "Strength, protection, and solitude", "Wisdom, determination, and renewal", "Freedom, adaptability, and exploration", "Creativity, imagination, and inner voice", "Transformation, healing, and renewal", "Adaptability, power, and survival", "Gentleness, humility, and patience", "Rebirth, transformation, and healing", "Community, creativity, and freedom", "Creativity, balance, and interconnectedness", "Preparedness, resourcefulness, and adaptability", "Regeneration, healing, and intuition", "Birth, fertility, and new beginnings", "Hope, renewal, and protection", "Grace, beauty, and purity", "Balance, diversity, and adaptability", "Strength, courage, and determination", "Patience, wisdom, and protection", "Purification, rebirth, and transformation", "Productivity, order, and discipline", "Emotions, intuition, and depth", "Loyalty, family, and instincts"];
      var animalsNegativeMeaning = [ "Bad omens, misfortune, and bad luck", "Aggression, danger, and unpredictability", "Overwork, insignificance, and conformity", "Vulnerability, weakness, and timidity", "Chaos, impulsivity, and aggression", "Aggressiveness, stubbornness, and isolation", "Fear, darkness, and superstition", "Aggression, danger, and brutality", "Overwork, stubbornness, and isolation", "Aggression, annoyance, and stinging", "Frivolity, restlessness, and unpredictability", "Aggressiveness, recklessness, and danger", "Short-lived beauty, instability, and superficiality", "Superstition, bad luck, and unpredictability", "Deception, hidden motives, and secrecy", "Deception, adaptability, and dishonesty", "Annoyance, restlessness, and overactivity", "Danger, fear, and venomous nature", "Docility, passivity, and conformity", "Withdrawal, moodiness, and insecurity", "Frivolity, inconstancy, and shallowness", "Ominous signs, death, and bad luck", "Vulnerability, timidity, and fragility", "Aggressiveness, betrayal, and disloyalty", "Stubbornness, dullness, and obstinacy", "Passivity, weakness, and lack of independence", "Destruction, danger, and chaos", "Short-lived joy, instability, and superficiality", "Superficiality, restlessness, and lack of commitment", "Aggression, dominance, and arrogance", "Stubbornness, inflexibility, and dominance", "Superficiality, fickleness, and shallowness", "Deception, cunning, and betrayal", "Transformation, deceit, and chaos", "Weakness, vulnerability, and fear", "Sneakiness, deception, and hidden motives", "Annoyance, restlessness, and overactivity", "Stubbornness, rebelliousness, and independence", "Noisiness, overprotection, and meddling", "Fear, vulnerability, and timidity", "Aggressiveness, dominance, and ruthlessness", "Defensiveness, isolation, and prickliness", "Aggressiveness, unpredictability, and danger", "Restlessness, stubbornness, and impulsivity", "Restlessness, superficiality, and lack of focus", "Scavenging, deceit, and untrustworthiness", "Death omens, bad luck, and misfortune", "Sneakiness, betrayal, and deception", "Aggressiveness, unpredictability, and danger", "Restlessness, unpredictability, and lack of focus", "Aggressiveness, cunning, and danger", "Aggressiveness, arrogance, and dominance", "Deception, cunning, and sneakiness", "Clinging to the past, emotional protection, and hiding", "Secrets, deception, and hidden motives", "Loudness, shallowness, and restlessness", "Mischievousness, unpredictability, and lack of responsibility", "Timidity, insignificance, and lack of ambition", "Stubbornness, obstinacy, and lack of adaptability", "Sneakiness, secrecy, and hidden motives", "Denial, avoidance, and lack of courage", "Restlessness, impulsivity, and lack of commitment", "Bad omens, death, and darkness", "Slowness, dullness, and lack of adaptability", "Superficiality, mimicry, and lack of originality", "Self-sacrifice, burdened by responsibilities, and lack of boundaries", "Vanity, arrogance, and superficiality", "Greed, gluttony, and lack of self-control", "Passivity, lack of independence, and vulnerability", "Prickliness, defensiveness, and lack of openness", "Fear, vulnerability, and lack of assertiveness", "Ominous signs, death, and bad omens", "Stubbornness, isolation, and inflexibility", "Resistance, lack of adaptability, and going against the flow", "Opportunism, scavenging, and restlessness", "Hidden emotions, isolation, and inner turmoil", "Deception, danger, and treachery", "Aggressiveness, danger, and ruthlessness", "Conformity, passivity, and lack of independence", "Deception, danger, and betrayal", "Insignificance, lack of ambition, and dependence", "Manipulation, entanglement, and deception", "Restlessness, impulsivity, and hoarding", "Lack of direction, aimlessness, and feeling stuck", "Lack of independence, dependence, and inflexibility", "Restlessness, impulsivity, and lack of commitment", "Superficiality, shallowness, and vanity", "Lack of identity, confusion, and aimlessness", "Aggressiveness, danger, and ruthlessness", "Slowness, isolation, and lack of adaptability", "Scavenging, death omens, and negativity", "Aggression, annoyance, and stinging", "Overwhelming emotions, hidden depths, and emotional turmoil", "Deception, danger, and treachery"];

      var prefixEnglish = ["Major", "Minor", "Big","Small","Southern","Northern","Western","Eastern","Tiny","Large","Flying",""];
      var prefixLatin = ["Maior", "Minor", "Magnum", "Parvus", "Australis", "Borealis","Occidentalis","Orientalis", "Minima", "Magna", "Volantes", ""];
      var prefixNorse = ["Stórr", "Minni", "Stórr", "Lítill", "Suðr", "Norðr", "Vestri", "Austri", "Litil", "Stór", "Fljúgandi",""];
      var prefixNorseRunes = ["ᛋᛏᚢᚱᚱ", "ᛘᛁᚾᚾᛁ", "ᛋᛏᚢᚱᚱ", "ᛚᛁᛏᛁᛚᛚ", "ᛋᚢᚦᚱ", "ᚾᚢᚱᚦᚱ", "ᚢᛁᛋᛏᚱᛁ", "ᚬᚢᛏᚱᛁ", "ᛚᛁᛏᛁᛚ", "ᛋᛏᚬᚢᚱ", "ᚠᛚᛁᚢᚴᚬᚾ",""];
      var prefixArabicRomanized = [ "Kabeer", "Sagheer", "Kabeer", "Sagheer", "Junubi", "Shamali", "Gharbi", "Sharqi", "Sagheer Jiddan", "Kabeer", "Tair", ""];
      var prefixArabic = [ "كبير", "صغير", "كبير", "صغير", "جنوبي", "شمالي", "غربي", "شرقي", "صغير جداً", "كبير", "طائر", ""];
      var prefixPositiveMeaning = [ "Authority, leadership, and importance", "Humility, servitude, and insignificance", "Strength, power, and dominance", "Modesty, simplicity, and unimportance", "Warmth, passion, and vitality", "Wisdom, resilience, and endurance", "Sunset, endings, and reflection", "Sunrise, new beginnings, and hope", "Delicacy, fragility, and vulnerability", "Abundance, grandeur, and significance", "Freedom, transcendence, and spirituality", ""];
      var prefixNegativeMeaning = [ "Arrogance, authoritarianism, and oppression", "Insignificance, powerlessness, and weakness", "Overbearing, domineering, and intimidating", "Ineffectiveness, inadequacy, and insignificance", "Intense heat, passion, and impulsivity", "Coldness, isolation, and aloofness", "Endings, decline, and nostalgia", "Inconstancy, unpredictability, and instability", "Fragility, vulnerability, and insignificance", "Excessiveness, greed, and indulgence", "Restlessness, superficiality, and lack of grounding", ""];

      var thingsEnglish = ["Altar","Anvil","Archer","Arrow","Axe","Book","Boulder","Bridge","Broom","Brush","Candle","Cart","Castle","Chair","Chest","Chisel","Claw","Clock","Compass","Cone","Couldron","Cross","Crown","Cup","Dagger","Diamond","Droplet","Drum","Eye","Feather","Fire","Flag","Flame","Flower","Flute","Fork","Fountain","Furnace","Gate","Gem","Hammer","Hat","Hatchet","Heart","Helmet","Hooves","Horn","Hourglass","House","Knife","Knight","Lance","Lantern","Leaf","Light","Maze","Mountain","Needle","Petal","Pickaxe","Pipe","Pyramid","Ring","River","River","Robe","Rod","Sapling","Scarf","Scepter","Screw","Scroll","Shell","Shield","Ship","Skull","Soldier","Spade","Spear","Spoon","Sword","Table","Temple","Throne","Tooth","Torch","Tower","Tree","Triangle","Vase","Wave","Wheel","Wing"];
      var thingsLatin = ["Altaris","Incus","Sagittarius","Sagitta","Ferrum","Liber","Scopulus","Pontem","Scopae","Peniculus","Lucerna","Plaustrum","Arce","Cathedra","Pectus","Ccalprum","Capsule","Horologium","Circuitus","Conus","Couldron","Crucis","Coronam","Calix","Pugione","Adamas","Guttula","Tympanum","Oculus","Pluma","Ignis","Vexillum","Flamma","Flos","Gloria","Furca","fons","Fornacem","Porta","Gemma","Malleus","Galerum","Ascia","Cordis","Galeam","Ungula","Cornu","Clepsydra","Domum","Cultro","Miues","Lancea","Lumina","Folium","Lux","Miserere","Mons","Acus","Laminae","Dolabra","Tibia","Pyramidis","circulum","Flumen","Flumen","Tunicae","Virga","Surculus","Fascia","Sceptrum","Stupra","Volumen","Crusta","Clypeus","Navis","Calvaria","Militus","Ligonem","Hastam","Dicula","Gladio","Mensa","Templum","Throni","Dente","Facem","Turrim","Arbor","Triangulum","Vase","Fluctus","Rotam","Wing"];
      var thingsNorse = [ "Altari", "Hefill", "Bogmaðr", "Örvar", "Öxi", "Bók", "Steinn", "Brú", "Skeið", "Brúnn", "Kerti", "Vagn", "Kastali", "Stóll", "Skrin", "Steinklýjur", "Klær", "Klukka", "Skipstjórn", "Kona", "Galdur", "Kross", "Krúna", "Bolla", "Skeggöx", "Díamantur", "Dropli", "Drumur", "Auga", "Fjaðrir", "Eldr", "Flöggi", "Eldflaugar", "Blóm", "Flauta", "Gafli", "Útgarður", "Eldforn", "Hlið", "Gull", "Hamar", "Hattur", "Hǫggøx", "Hjarta", "Hjálmr", "Hófar", "Hörn", "Klukkustundaglasi", "Hús", "Knífur", "Riddari", "Spjót", "Ljós", "Lauf", "Ljós", "Vegalagni", "Fjall", "Nál", "Blómblað", "Hakkaði", "Pípa", "Pýramída", "Hringur", "Á", "Skrautkápa", "Slöngva", "Altr", "Skarfur", "Gullstafur", "Skrúfa", "Skjal", "Skel", "Skjöldur", "Skip", "Höfuð", "Hermadur", "Spǫð", "Spjót", "Skeið", "Sverð", "Borð", "Hof", "Þrónn", "Tann", "Eldfǫturr", "Turn", "Tré", "Þríhyrningur", "Flosi", "Brim", "Hjól", "Vængur"];
      var thingsNorseRues = [ "ᚬᛚᛏᛅᛦ", "ᚬᚾᚢᛅᛚ", "ᚬᚱᚴᚼᛁᚱ", "ᛅᚱᚱᚬᛦ", "ᛅᚼᛁ", "ᛒᚢᚼ", "ᛅᚢᛚᛅᚱ", "ᛒᚱᚢᛅᚴ", "ᛒᚱᚢᛘ", "ᛒᚱᚢᛋ", "ᚴᚬᚾᛏᛚ", "ᚴᚬᚱᛏ", "ᚴᚬᛋᛏᛚ", "ᚴᛅᛁᚱ", "ᚴᚼᛁᛋᛏ", "ᛋᚴᛁᛋᛁᛚ", "ᚴᛚᛅᚢ", "ᛋᚴᛚᚬᚢᚴ", "ᚴᚢᛘᛘᚢᚢᚴ", "ᚴᚢᚾᛅ", "ᚴᚢᛅᛚᛅᚱ", "ᚴᚱᚢᛋᛋ", "ᚴᚱᚢᚢᚾ", "ᚴᚢᛒ", "ᛏᚬᚴᚴᛁᚱ", "ᛏᛁᛅᛘᚬᚾᛏ", "ᛏᚱᚢᛘᛘᚢᚴ", "ᛏᚱᚢᛘ", "ᛁᚢᚴᛅ", "ᚠᛅᚢᚴᚱ", "ᚠᛁᚢᚱ", "ᚠᛚᛅᚴ", "ᚠᛚᛅᛘᛁ", "ᚠᛚᛅᚢᚢᚱ", "ᚠᛚᚢᛏ", "ᚠᚢᚱᚴ", "ᚠᚢᚾᛏᛁᚢᚾ", "ᚠᚢᚱᚾᚬᚱ", "ᚴᚬᛏ", "ᚴᛅᛘ", "ᚼᛅᛘᚬᚱ", "ᚼᚬᛏ", "ᚼᚬᛏᛅᚦ", "ᚼᚬᚱᛏ", "ᚼᛁᚢᛚᛘ", "ᚼᚬᚢᚢᚢᛋ", "ᚼᚬᚱᚾ", "ᚼᚢᚢᚱᛚᛅᚴᛋ", "ᚼᚢᛅᚴ", "ᚴᚾᛁᚠ", "ᚴᚾᛁᚢᚴᛏ", "ᛚᛅᚾᚴᛁ", "ᛚᛅᚾᛏᚱᚬᚾ", "ᛚᛅᚢᚠ", "ᛚᛁᚢᚴᛏ", "ᛘᛅᛋᛅ", "ᛘᚢᚾᛏᛅᚴ", "ᚾᛁᛏᛁᛚ", "ᛘᛁᛏᛅᛚ", "ᛘᛅᚢᚴᛏᛅᚦ", "ᛘᛁᚴ", "ᛘᛁᚢᚴᚢᚱᚬᚦ", "ᚱᛁᚴ", "ᛅᚢ", "ᚱᚢᛅᚼ", "ᚱᚢᛏ", "ᛋᛅᛅᚴᛚᛁᚾ", "ᛋᚴᚬᚱᚠ", "ᛋᚴᛅᚢᛏ", "ᛋᚴᚱᚢ", "ᛋᚴᚱᚢᛚ", "ᛋᛅᛚ", "ᛋᚴᛁᛚᛏ", "ᛋᚴᛁᛒ", "ᛋᚴᚢᛚ", "ᛋᚢᛚᚦᛅᚱ", "ᛋᛅᛅᚴ", "ᛋᛅᛅᚱ", "ᛋᚴᛅᚢᚱ", "ᛋᚢᚢᚱᛏ", "ᛏᚬᛏᛚ", "ᛏᛁᛘᛘᛅᛚ", "ᚦᚱᚢᚢᚾ", "ᛏᚢᚢᚦ", "ᛏᚢᚱᚴ", "ᛏᚢᚢᚱ", "ᛏᚱᛅ", "ᛏᚱᛁᚢᚴᛅᛚ", "ᚢᛏ", "ᚢᚢᛏ", "ᚢᛁᛚ", "ᚢᚢᚴ"];
      var thingsArabic = ["مذبح" , "سطحان" , "رامي" , "سهم" , "فأس" , "كتاب" , "حجر ضخم" , "جسر" , "مكنسة" , "فرشاة" , "شمعة" , "عربة" , "قلعة" , "كرسي" , "صدر" , "سكين حفر" , "مخلب" , "ساعة" , "بوصلة" , "مخروط" , "وعاء" , "صليب" , "تاج" , "كوب" , "خنجر" , "الماس" , "قطرة" , "طبل" , "عين" , "ريشة" , "نار" , "علم" , "لهب" , "زهرة" , "ناي" , "شوكة" , "نافورة" , "مدفأة" , "بوابة" , "جوهرة" , "مطرقة" , "قبعة" , "فأس صغيرة" , "قلب" , "خوذة" , "حوافر" , "قرن" , "مؤقت" , "منزل" , "سكين" , "فارس" , "رمح" , "فانوس" , "ورقة" , "ضوء" , "متاهة" , "جبل" , "إبرة" , "بتل" , "فأس حفر" , "أنبوب" , "هرم" , "خاتم" , "نهر" , "نهر" , "ثوب" , "عصا" , "غصن صغير" , "وشاح" , "سيف العرش" , "مسمار" , "مخطوطة" , "صدفة" , "درع" , "سفينة" , "جمجمة" , "جندي" , "معول" , "رمح" , "ملعقة" , "سيف" , "طاولة" , "معبد" , "عرش" , "سن" , "مصباح" , "برج" , "شجرة" , "مثلث" , "إناء" , "موجة" , "عجلة" , "جناح" ];
      var thingsArabicRomanized = [ "Madbah", "Satahan", "Rami", "Sahm", "Fas", "Kitab", "Hajar Dakhm", "Jisr", "Miknasah", "Furshah", "Shammah", "'Arabah", "Qal'ah", "Kursi", "Sadr", "Sikin Hafar", "Mukhlab", "Sa'ah", "Bawuslah", "Mukharawat", "Wa'", "Salib", "Taj", "Kub", "Khunjar", "Almas", "Qatrah", "Tabl", "'Ayn", "Rishah", "Nar", "'Alam", "Lahab", "Zahrah", "Nay", "Shawkah", "Nafurah", "Madafa'ah", "Babah", "Jawharah", "Matraqah", "Qub'ah", "Fas Saghira", "Qalb", "Khudzah", "Hawafir", "Qarn", "Mu'qit", "Manzil", "Sikin", "Fares", "Ramh", "Fanus", "Warqah", "Daw'", "Matahah", "Jabal", "'Ibrah", "Batl", "Fas Hafar", "'Anbub", "Haram", "Khātam", "Nahr", "Nahr", "Thawb", "'Asa", "Ghusn Saghīr", "Wushah", "Sayf al-'Arsh", "Musmar", "Makhtutah", "Sadafah", "Dir'", "Safinah", "Jumjimah", "Jundi", "Ma'wul", "Ramh", "Malaqah", "Sayf", "Tawilah", "Ma'bad", "'Arsh", "San", "Misbah", "Burj", "Shajarah", "Muthallath", "'Ina'", "Mawjah", "'Ajlah", "Jinah" ];
      var thingsPositiveMeaning = [ "Spirituality, connection, and reverence", "Craftsmanship, hard work, and strength", "Precision, focus, and skill", "Direction, purpose, and determination", "Strength, cutting through obstacles, and power", "Knowledge, wisdom, and learning", "Stability, endurance, and resilience", "Connection, transition, and unity", "Cleansing, purification, and tidiness", "Creativity, artistry, and attention to detail", "Illumination, guidance, and spirituality", "Transportation, journey, and mobility", "Strength, protection, and nobility", "Rest, comfort, and authority", "Secrets, treasures, and hidden knowledge", "Craftsmanship, precision, and detail", "Strength, power, and protection", "Time, order, and structure", "Navigation, direction, and guidance", "Focus, concentration, and growth", "Transformation, magic, and healing", "Spirituality, faith, and sacrifice", "Authority, power, and leadership", "Nourishment, emotions, and receptivity", "Danger, protection, and power", "Purity, clarity, and strength", "Purity, renewal, and life", "Rhythm, connection, and celebration", "Perception, intuition, and awareness", "Spirituality, flight, and freedom", "Passion, transformation, and illumination", "Identity, pride, and patriotism", "Passion, intensity, and inspiration", "Beauty, growth, and fragility", "Harmony, creativity, and melody", "Nourishment, sharing, and sustenance", "Life, abundance, and refreshment", "Transformation, forging, and strength", "Transition, boundaries, and protection", "Beauty, rarity, and value", "Strength, creation, and craftsmanship", "Identity, style, and protection", "Cutting ties, division, and separation", "Love, emotions, and compassion", "Protection, courage, and resilience", "Mobility, strength, and grace", "Strength, power, and majesty", "Time, impermanence, and balance", "Shelter, family, and security", "Protection, utility, and cutting", "Honor, chivalry, and bravery", "Honor, victory, and strength", "Illumination, guidance, and hope", "Growth, change, and vitality", "Illumination, enlightenment, and clarity", "Confusion, complexity, and challenge", "Endurance, strength, and challenges", "Precision, detail, and focus", "Beauty, fragility, and individuality", "Hard work, excavation, and strength", "Connection, ritual, and relaxation", "Mystery, spirituality, and ascension", "Unity, eternity, and commitment", "Flow, journey, and change", "Identity, status, and spirituality", "Authority, guidance, and leadership", "Growth, potential, and youthfulness", "Style, comfort, and warmth", "Authority, power, and leadership", "Precision, assembly, and control", "Knowledge, wisdom, and history", "Protection, inner self, and vulnerability", "Protection, defense, and strength", "Exploration, adventure, and journey", "Mortality, mystery, and transformation", "Honor, duty, and courage", "Digging deep, transformation, and change", "Strength, precision, and offense", "Nourishment, sharing, and sustenance", "Power, strength, and protection", "Gathering, community, and sustenance", "Spirituality, worship, and reverence", "Authority, power, and leadership", "Strength, protection, and vitality", "Illumination, enlightenment, and hope", "Ambition, reaching new heights, and isolation", "Growth, strength, and connection", "Balance, harmony, and stability", "Beauty, receptivity, and artistry", "Change, adaptability, and fluidity", "Cycles, progress, and movement", "Freedom, flight, and spirituality"];
      var thingsNegativeMeaning = [ "Sacrilege, blasphemy, and desecration", "Hardship, drudgery, and oppression", "Aggression, violence, and conflict", "Hostility, danger, and harm", "Destruction, violence, and brutality", "Ignorance, censorship, and closed-mindedness", "Immovability, stagnation, and obstruction", "Disconnection, division, and separation", "Sweeping away, destruction, and chaos", "Superficiality, deception, and manipulation", "Destruction, fire, and malevolence", "Stagnation, confinement, and restriction", "Exclusivity, elitism, and isolation", "Weakness, passivity, and lack of authority", "Hidden secrets, deception, and betrayal", "Destruction, defacement, and damage", "Aggression, danger, and harm", "Time running out, mortality, and anxiety", "Lost direction, confusion, and aimlessness", "Narrow-mindedness, lack of growth, and rigidity", "Dark magic, malevolence, and evil", "Oppression, intolerance, and conflict", "Tyranny, abuse of power, and arrogance", "Emptiness, lack of nourishment, and emptiness", "Betrayal, treachery, and danger", "Coldness, hardness, and lack of emotion", "Isolation, dryness, and emptiness", "Discord, chaos, and disturbance", "Surveillance, invasion of privacy, and judgment", "Fragility, vulnerability, and weakness", "Destruction, chaos, and danger", "Division, nationalism, and conflict", "Destruction, rage, and intensity", "Death, decay, and impermanence", "Deception, manipulation, and trickery", "Conflict, division, and rivalry", "Wasting resources, excess, and extravagance", "Destruction, oppression, and suffering", "Isolation, exclusion, and barriers", "Greed, materialism, and shallowness", "Destruction, violence, and brutality", "Concealment, hiding, and deception", "Division, hostility, and conflict", "Betrayal, brokenness, and cruelty", "Closed-mindedness, inflexibility, and arrogance", "Restlessness, impulsivity, and instability", "Aggression, danger, and domination", "Time slipping away, mortality, and anxiety", "Confinement, isolation, and oppression", "Betrayal, danger, and aggression", "Aggression, violence, and brutality", "Aggression, conflict, and violence", "Deception, hiding, and manipulation", "Fragility, decay, and impermanence", "Deception, illusion, and false hope", "Confusion, chaos, and frustration", "Obstacles, challenges, and isolation", "Pain, vulnerability, and invasion", "Fragility, impermanence, and insignificance", "Destruction, violence, and danger", "Addiction, escapism, and confusion", "Hierarchical control, secrecy, and elitism", "Entrapment, captivity, and obligation", "Disconnection, separation, and division", "Deception, hiding, and hypocrisy", "Authoritarianism, oppression, and control", "Lack of growth, vulnerability, and weakness", "Concealment, deceit, and disguise", "Authoritarianism, oppression, and dominance", "Manipulation, control, and restriction", "Closed-mindedness, ignorance, and lack of progress", "Vulnerability, hiding, and weakness", "Defensiveness, fear, and avoidance", "Isolation, confinement, and danger", "Death, mortality, and darkness", "Conflict, violence, and oppression", "Digging deeper into problems, conflict, and destruction", "Aggression, violence, and harm", "Superficiality, greed, and indulgence", "Conflict, violence, and danger", "Division, conflict, and separation", "Dogma, rigidity, and exclusion", "Tyranny, oppression, and abuse of power", "Aggression, danger, and harm", "Destruction, chaos, and danger", "Isolation, arrogance, and separation", "Stagnation, destruction, and isolation", "Imbalance, disharmony, and instability", "Emptiness, fragility, and shallowness", "Turmoil, chaos, and instability", "Repetition, stagnation, and lack of progress", "Loss of freedom, restriction, and imprisonment"];
    </script>

  </head>
  <body>
    <div ID="canvas">


    </div>
    <div class="controls">
      <div class="group" id="generatorcontrols">
        <div class="header">
          Generator Controls
        </div>
        <div class="control">
          <span>Seed</span>
          <input type="text" id="inpseed" oninput="onInput()">
          <input type="button" id="resetseed" value="New Seed" onclick="newSeed()">
        </div>
        <div class="control">
          <span>Star Density: <span id="stardensity_Value"></span></span>
          <input type="range" min="4" max="12" value="8" step="1e-18" class="slider" id="stardensity" oninput="onInput()">
        </div>
        <div class="control">
          <span>Number of Constellations: <span id="numconstellations_Value"></span></span>
          <input type="range" min="0" max="24" value="12" class="slider" id="numconstellations" oninput="onInput()">
        </div>
        <div class="control">
          <span>Minimum Stars per Constellation: <span id="minconstellationsize_Value"></span></span>
          <input type="range" min="2" max="12" value="7" class="slider" id="minconstellationsize" oninput="onInput()">
        </div>
        <div class="control">
          <span>Additional Stars per Constellation: <span id="constellationsizerange_Value"></span></span>
          <input type="range" min="0" max="6" value="3" class="slider" id="constellationsizerange" oninput="onInput()">
        </div>
        <div class="control">
          <span>Constellation Max Distance: <span id="constellationdistance_Value"></span></span>
          <input type="range" min="6" max="8.5" value="7.25" step="0.01" class="slider" id="constellationdistance" oninput="onInput()">
        </div>
        <div class="control">
          <label>
            Prettify Constellations
            <input type="checkbox" id="prettifyconstellations" checked onchange="onInput()">
          </label>
        </div>
        <div class="control">
          <fieldset>
            <legend>Constellation Cultural Origins - Beta</legend>
            <label>
              Include English Names
              <input type="checkbox" disabled id="EnglishNames" checked onchange="onInput()">
            </label><br>
            <label>
              Include Latin Names
              <input type="checkbox" id="LatinNames" checked onchange="onInput()">
            </label><br>
            <label>
              Include Norse Names
              <input type="checkbox" id="NorseNames" checked onchange="onInput()">
            </label><br>
            <label>
              Include Arabic Names
              <input type="checkbox" id="ArabicNames" checked onchange="onInput()">
            </label><br>
            <label>
              Include Cultural Symbolism
              <input type="checkbox" id="CulturalSymbolism" checked onchange="onInput()">
            </label>
          </fieldset>
        </div>
      </div>
      <div class="group" id="displaycontrols">
        <div class="header">
          Display Controls
        </div>
        <div class="control">
          <span>Canvas Size</span>
          <input type="range" min="100" max="2000" value="500" step="100" class="slider" id="canvassize" oninput="onInput()">
        </div>
        <div class="control">
          <label>
            Invert Colours
            <input type="checkbox" id="invertcolours" oninput="onInput()">
          </label>
        </div>
      </div>
      <div class="group" id="saveloadcontrols">
        <div class="header">
          JSON
        </div>
        <div class="control">
          <textarea rows="3" cols="20" id="inpjson" class="form-control" aria-label="With textarea"></textarea>
          <div class="btn-group d-flex" role="group">
            <span class="btn btn-success w-100" id="copyButton">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z"/>
              </svg> Copy</span>
            <span class="btn btn-primary w-100" name="btnloadjson" onclick="readJSON()">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M3.5 6a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 1 0-1h2A1.5 1.5 0 0 1 14 6.5v8a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-8A1.5 1.5 0 0 1 3.5 5h2a.5.5 0 0 1 0 1z"/><path fill-rule="evenodd" d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
              </svg> Load</span>
          </div>
          Copy this to save current settings.
          Paste and press 'load' to restore them.
        </div>
      </div>
      <div class="group" id="constellation_output">
        <div class="header">
          Constellations
        </div>
        <div class="control">
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script>
      document.getElementById('copyButton').addEventListener('click', function() {
        var copyText = document.getElementById("inpjson");
        copyText.select();
        copyText.setSelectionRange(0, 99999); // For mobile devices
        document.execCommand("copy");
      });
    </script>
  </body>
</html>
